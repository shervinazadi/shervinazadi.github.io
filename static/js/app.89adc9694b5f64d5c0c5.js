webpackJsonp([1],{"5mxk":function(e,t){},AMBn:function(e,t){},DuPI:function(e,t){},KpPp:function(e,t,n){var i;i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t){var n;function i(e){return"function"==typeof e.key?e.key():e.key}function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){var t=e.val(),n=r(t)?t:{".value":t};return n[".key"]=i(e),n}function s(e,t){for(var n=0;n<e.length;n++)if(e[n][".key"]===t)return n;return-1}function o(e,t,n){var o=!1,l=null,u=null;if(r(n)&&n.hasOwnProperty("source")&&(o=n.asObject,l=n.cancelCallback,u=n.readyCallback,n=n.source),!r(n))throw new Error("VueFire: invalid Firebase binding source.");var h,d=("function"==typeof(h=n).ref?h=h.ref():"object"==typeof h.ref&&(h=h.ref),h);e.$firebaseRefs[t]=d,e._firebaseSources[t]=n,l&&(l=l.bind(e)),o?function(e,t,n,i){c(e,t,{});var r=n.on("value",function(n){e[t]=a(n)},i);e._firebaseListeners[t]={value:r}}(e,t,n,l):function(e,t,n,r){var o=[];c(e,t,o);var l=n.on("child_added",function(e,t){var n=t?s(o,t)+1:0;o.splice(n,0,a(e))},r),u=n.on("child_removed",function(e){var t=s(o,i(e));o.splice(t,1)},r),h=n.on("child_changed",function(e){var t=s(o,i(e));o.splice(t,1,a(e))},r),d=n.on("child_moved",function(e,t){var n=s(o,i(e)),r=o.splice(n,1)[0],a=t?s(o,t)+1:0;o.splice(a,0,r)},r);e._firebaseListeners[t]={child_added:l,child_removed:u,child_changed:h,child_moved:d}}(e,t,n,l),u&&n.once("value",u.bind(e))}function c(e,t,i){t in e?e[t]=i:n.util.defineReactive(e,t,i)}function l(e){e.$firebaseRefs||(e.$firebaseRefs=Object.create(null),e._firebaseSources=Object.create(null),e._firebaseListeners=Object.create(null))}var u={created:function(){var e=this.$options.firebase;if("function"==typeof e&&(e=e.call(this)),e)for(var t in l(this),e)o(this,t,e[t])},beforeDestroy:function(){if(this.$firebaseRefs){for(var e in this.$firebaseRefs)this.$firebaseRefs[e]&&this.$unbind(e);this.$firebaseRefs=null,this._firebaseSources=null,this._firebaseListeners=null}}};function h(e){(n=e).mixin(u);var t=n.config.optionMergeStrategies;t.firebase=t.provide,n.prototype.$bindAsObject=function(e,t,n,i){l(this),o(this,e,{source:t,asObject:!0,cancelCallback:n,readyCallback:i})},n.prototype.$bindAsArray=function(e,t,n,i){l(this),o(this,e,{source:t,cancelCallback:n,readyCallback:i})},n.prototype.$unbind=function(e){!function(e,t){var n=e._firebaseSources&&e._firebaseSources[t];if(!n)throw new Error('VueFire: unbind failed: "'+t+'" is not bound to a Firebase reference.');var i=e._firebaseListeners[t];for(var r in i)n.off(r,i[r]);e[t]=null,e.$firebaseRefs[t]=null,e._firebaseSources[t]=null,e._firebaseListeners[t]=null}(this,e)}}"undefined"!=typeof window&&window.Vue&&h(window.Vue),e.exports=h}])},e.exports=i()},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),r=n("kxiW"),a=n.n(r),s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-menu",attrs:{id:"vert-menu"}},[n("div",{style:e.indent_sign,attrs:{id:"side-by-side"},on:{click:e.toggleChildren}},[e._v(e._s(e.sign))]),e._v(" "),n("div",{style:e.indent,attrs:{id:"side-by-side"}},[e._v(e._s(e.label))]),e._v(" "),e.showChildren?n("div",e._l(e.nodes,function(t){return n("tree-menu",{key:t.label,attrs:{nodes:t.nodes,label:t.label,depth:e.depth+1}})}),1):e._e()])},staticRenderFns:[]};var o={name:"navbar",components:{TreeMenu:n("VU/8")({props:["label","nodes","depth"],data:function(){return{showChildren:!1,sign:"+"}},name:"tree-menu",computed:{indent:function(){return{transform:"translate("+25*this.depth+"px)"}},indent_sign:function(){return{transform:"translate("+20*this.depth+"px)"}}},methods:{toggleChildren:function(){this.showChildren=!this.showChildren,"+"==this.sign?this.sign="-":this.sign="+"}}},s,!1,function(e){n("5mxk")},null,null).exports},data:function(){return{isLoggedIn:!1,currentUser:!1,tree:{label:"root",nodes:[{label:"item1",nodes:[{label:"item1.1"},{label:"item1.2",nodes:[{label:"item1.2.1"}]}]},{label:"item2"}]}}},created:function(){a.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=a.a.auth().currentUser.email)},methods:{logout:function(){var e=this;a.a.auth().signOut().then(function(){e.$router.push("/login"),window.location.reload(!0)})}}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("tree-menu",{attrs:{label:this.tree.label,nodes:this.tree.nodes,depth:0}})],1)},staticRenderFns:[]},l={name:"App",components:{Navbar:n("VU/8")(o,c,!1,null,null,null).exports}},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Navbar"),this._v(" "),t("div",[t("router-view")],1)],1)},staticRenderFns:[]},h=n("VU/8")(l,u,!1,null,null,null).exports,d=n("/ocq"),p=(n("881v"),a.a.initializeApp({apiKey:"AIzaSyCeOmk2Dn8KK175ip0Pmgb7cu1kd7j_M8o",authDomain:"playscapes01.firebaseapp.com",databaseURL:"https://playscapes01.firebaseio.com",projectId:"playscapes01",storageBucket:"playscapes01.appspot.com",messagingSenderId:"370840827427"})),m=p.firestore(),f=p.database(),v={name:"dashboard",data:function(){return{employees:[],isLoggedIn:!1,currentUser:!1}},created:function(){var e=this;a.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=a.a.auth().currentUser.email),m.collection("employees").orderBy("employee_id").get().then(function(t){t.forEach(function(t){var n={id:t.id,employee_id:t.data().employee_id,name:t.data().name,dept:t.data().dept};e.employees.push(n)})}),console.log(this.employees)},methods:{logout:function(){var e=this;a.a.auth().signOut().then(function(){e.$router.push("/login"),window.location.reload(!0)})}}},w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container pt-5",attrs:{id:"dashboard"}},[n("div",{staticClass:"card"},[n("table",{staticClass:"table table-striped"},[e._m(0),e._v(" "),n("tbody",e._l(e.employees,function(t){return n("tr",{key:t.id},[n("th",{attrs:{scope:"row"}},[e._v(e._s(t.employee_id))]),e._v(" "),n("td",[e._v(e._s(t.name))]),e._v(" "),n("td",[e._v(e._s(t.dept))]),e._v(" "),n("td",[n("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:{name:"view-employee",params:{employee_id:t.employee_id}}}},[e._v("view")])],1)])}),0)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[this._v("ID")]),this._v(" "),t("th",{attrs:{scope:"col"}},[this._v("Name")]),this._v(" "),t("th",{attrs:{scope:"col"}},[this._v("Owner")]),this._v(" "),t("th",{attrs:{scope:"col"}},[this._v("Overview")])])])}]},g=n("VU/8")(v,w,!1,null,null,null).exports,y={name:"new-employee",data:function(){return{employee_id:null,name:null,dept:null}},methods:{saveEmployee:function(){var e=this;m.collection("employees").add({employee_id:this.employee_id,name:this.name,dept:this.dept,position:this.position}).then(function(t){e.$router.push("/")}).catch(function(e){return console.log(err)})}}},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container pt-5",attrs:{id:"new-employee"}},[n("div",{staticClass:"card"},[e._m(0),e._v(" "),n("div",{staticClass:"card-body"},[n("form",{staticClass:"col s12",on:{submit:function(t){return t.preventDefault(),e.saveEmployee(t)}}},[n("div",{staticClass:"input-group mb-3"},[e._m(1),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.employee_id,expression:"employee_id"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.employee_id},on:{input:function(t){t.target.composing||(e.employee_id=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group mb-3"},[e._m(2),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group mb-3"},[e._m(3),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.dept,expression:"dept"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.dept},on:{input:function(t){t.target.composing||(e.dept=t.target.value)}}})]),e._v(" "),n("hr"),e._v(" "),n("div",[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Submit")]),e._v(" "),n("router-link",{staticClass:"btn btn-outline-danger",attrs:{to:"/"}},[e._v("Cancel")])],1)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h4",[this._v("Edit Player")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Player ID")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Name")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Role")])])}]},b=n("VU/8")(y,_,!1,null,null,null).exports,x={name:"edit-employee",data:function(){return{employee_id:null,name:null,dept:null,position:null}},beforeRouteEnter:function(e,t,n){m.collection("employees").where("employee_id","==",e.params.employee_id).get().then(function(e){e.forEach(function(e){n(function(t){t.employee_id=e.data().employee_id,t.name=e.data().name,t.dept=e.data().dept})})})},watch:{$route:"fetchData"},methods:{fetchData:function(){var e=this;m.collection("employees").where("employee_id","==",this.$route.params.employee_id).get().then(function(t){t.forEach(function(t){e.employee_id=t.data().employee_id,e.name=t.data().name,e.dept=t.data().dept})})},updateEmployee:function(){var e=this;confirm("Sure?")&&m.collection("employees").where("employee_id","==",this.$route.params.employee_id).get().then(function(t){t.forEach(function(t){t.ref.update({employee_id:e.employee_id,name:e.name,dept:e.dept}).then(function(){e.$router.push({name:"view-employee",params:{employee_id:e.employee_id}})})})})}}},D={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container pt-5",attrs:{id:"edit-employee"}},[n("div",{staticClass:"card"},[e._m(0),e._v(" "),n("div",{staticClass:"card-body"},[n("form",{staticClass:"col s12",on:{submit:function(t){return t.preventDefault(),e.updateEmployee(t)}}},[n("div",{staticClass:"input-group mb-3"},[e._m(1),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.employee_id,expression:"employee_id"}],staticClass:"form-control",attrs:{type:"text",disabled:"",required:""},domProps:{value:e.employee_id},on:{input:function(t){t.target.composing||(e.employee_id=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group mb-3"},[e._m(2),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group mb-3"},[e._m(3),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.dept,expression:"dept"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.dept},on:{input:function(t){t.target.composing||(e.dept=t.target.value)}}})]),e._v(" "),n("hr"),e._v(" "),n("div",[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Submit")]),e._v(" "),n("router-link",{staticClass:"btn btn-outline-danger",attrs:{to:"/"}},[e._v("Cancel")])],1)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h4",[this._v("Edit Game")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Game ID")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Name")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Owner")])])}]},C=n("VU/8")(x,D,!1,null,null,null).exports,A={name:"view-employee",data:function(){return{employee_id:null,name:null,dept:null}},beforeRouteEnter:function(e,t,n){m.collection("employees").where("employee_id","==",e.params.employee_id).get().then(function(e){e.forEach(function(e){n(function(t){t.employee_id=e.data().employee_id,t.name=e.data().name,t.dept=e.data().dept})})})},watch:{$route:"fetchData"},methods:{fetchData:function(){var e=this;m.collection("employees").where("employee_id","==",this.$route.params.employee_id).get().then(function(t){t.forEach(function(t){e.employee_id=t.data().employee_id,e.name=t.data().name,e.dept=t.data().dept})})},deleteEmployee:function(){var e=this;confirm("Sure?")&&m.collection("employees").where("employee_id","==",this.$route.params.employee_id).get().then(function(t){t.forEach(function(t){t.ref.delete(),e.$router.push("/")})})},doNothing:function(){console.log("to be implemented")},anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},tempAnchorList:function(){var e=[];return anchorsRef.once("value",function(t){t.forEach(function(t){var n={Key:t.key,Data:t.val()};e.push(n)})}),e}}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container pt-5",attrs:{id:"view-employee"}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("h4",[e._v(e._s(e.name))])]),e._v(" "),n("ul",{staticClass:"list-group list-group-flush"},[n("li",{staticClass:"list-group-item"},[e._v("Game ID : "+e._s(e.employee_id))]),e._v(" "),n("li",{staticClass:"list-group-item"},[e._v("Owner : "+e._s(e.dept))]),e._v(" "),n("router-link",{staticClass:"list-group-item btn btn-outline-primary",attrs:{to:"/rtplay"}},[e._v("Playboard")]),e._v(" "),n("router-link",{staticClass:"list-group-item btn btn-outline-warning",attrs:{to:"/rtthreed"}},[e._v("3D (under construction)")])],1)]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"card"},[n("ul",{staticClass:"list-group list-group-flush"},[n("router-link",{staticClass:"list-group-item btn btn-outline-dark",attrs:{to:"/"}},[e._v("Back")]),e._v(" "),n("router-link",{staticClass:"list-group-item btn btn-outline-primary",attrs:{to:{name:"edit-employee",params:{employee_id:e.employee_id}}}},[e._v("Edit Information")]),e._v(" "),n("button",{staticClass:"list-group-item btn btn-outline-danger",on:{click:e.doNothing}},[e._v("Delete (to be implemented)")])],1),e._v(" "),n("div",{staticClass:"fixed-action-btn"},[n("router-link",{staticClass:"btn-floating btn-larg red",attrs:{to:{name:"edit-employee",params:{employee_id:e.employee_id}}}},[n("i",{staticClass:"fa fa-pencil"})])],1)])])},staticRenderFns:[]},k=n("VU/8")(A,E,!1,null,null,null).exports,H={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(e){var t=this;a.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){window.location.reload(!0),t.$router.push("/")},function(e){alert(e.message)}),e.preventDefault()},register:function(e){var t=this;a.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(e){alert("Account Created"),window.location.reload(!0),t.$router.push("/")},function(e){alert(e.message)}),e.preventDefault()}}},M={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container pt-5"},[n("div",{staticClass:"card"},[e._m(0),e._v(" "),n("div",{staticClass:"card-body"},[n("form",[n("div",{staticClass:"input-group mb-3"},[e._m(1),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group mb-3"},[e._m(2),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),n("buttun",{staticClass:"btn btn-outline-primary",on:{click:e.login}},[e._v("Sign In")]),e._v(" "),n("buttun",{staticClass:"btn btn-outline-success",on:{click:e.register}},[e._v("Sign Up")])],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h3",[this._v("Login")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Email")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Password")])])}]},I=n("VU/8")(H,M,!1,null,null,null).exports,T={name:"register",data:function(){return{email:"",password:""}},methods:{register:function(e){var t=this;a.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(e){alert("Account Created"),window.location.reload(!0),t.$router.push("/")},function(e){alert(e.message)}),e.preventDefault()}}},S={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pt-5"},[n("div",{staticClass:"card text-black bg-light mb-3"},[e._m(0),e._v(" "),n("div",{staticClass:"card-body"},[n("form",[n("div",{staticClass:"input-group mb-3"},[e._m(1),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group mb-3"},[e._m(2),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),n("buttun",{staticClass:"btn btn-outline-success",on:{click:e.register}},[e._v("Register")])],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h3",[this._v("Register")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Email")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Password")])])}]},R=n("VU/8")(T,S,!1,null,null,null).exports,$=(n("YrBu"),n("vwbq"),n("M4fF"),{name:"playboard",data:function(){return{employees:[],nrad:7,space:1,color:"#aaa",maxID:0,ratio:32,nindex:0,curAnchor:-1,grid:[],anchors:[],window:{width:0,height:0}}},computed:{numi:function(){return this.window.width/this.ratio},numj:function(){return this.window.height/this.ratio}},created:function(){var e=this;window.addEventListener("resize",this.handleResize),this.handleResize(),this.setGrid(),this.getAnchorLocationFromServer(),this.calculateTheField(),window.addEventListener("keydown",function(t){"s"==t.key&&e.addAnchor(0),"x"==t.key&&e.addAnchor(1),"Backspace"!=t.key&&"d"!=t.key||e.deleteAnchor()})},destroyed:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},addAnchor:function(e){var t={id:this.maxID,x:0,y:0,v:e};this.anchors.push(t),this.curAnchor=this.maxID,this.maxID+=1,this.addAnchorToServer(t),this.calculateTheField()},deleteAnchor:function(){if(-1!=this.curAnchor){var e,t=[];for(e=0;e<this.anchors.length;e++){var n=this.anchors[e];this.curAnchor!=n.id?t.push(n):(this.deleteAnchorFromServer(n),console.log("anchor "+String(n.id)+" deleted"))}this.anchors=t,this.curAnchor=-1,this.calculateTheField()}},getAnchorLocationFromServer:function(){var e=this;m.collection("anchors").get().then(function(t){t.forEach(function(t){var n=e.setHexColor(t.data().v);t.data().id>e.maxID&&(e.maxID=t.data().id+1);var i={id:t.data().id,x:t.data().x,y:t.data().y,v:t.data().v,c:n};e.anchors.push(i)})})},addAnchorToServer:function(e){m.collection("anchors").add(e)},updateAnchorLocationOnServer:function(e){m.collection("anchors").where("id","==",e.id).get().then(function(t){t.forEach(function(t){t.ref.update({x:e.x,y:e.y})})})},deleteAnchorFromServer:function(e){m.collection("anchors").where("id","==",e.id).get().then(function(e){e.forEach(function(e){e.ref.delete()})})},setHexColor:function(e){return n("YrBu")("hsl("+String(240+120*e)+", 100%, 50%)").toHexString()},handleClickPoint:function(e){var t,n;for(n=0;n<this.anchors.length;n++)this.anchors[n].id==this.curAnchor&&(t=this.anchors[n]);t.x=e.x,t.y=e.y,this.updateAnchorLocationOnServer(t),this.calculateTheField(),console.log("anchor "+String(t.id)+" moved")},handleClickAnchor:function(e){this.curAnchor=e.id,console.log("anchor "+String(e.id)+" selected")},setGrid:function(){var e,t,n=1;for(e=0;e<this.numi;e++)for(t=0;t<this.numj;t++){var i={id:n+=1,x:e,y:t,v:.5};this.grid.push(i)}},setAnchors:function(){var e;for(e=0;e<2;e++){var t={id:e,x:e,y:e,v:e};this.anchors.push(t)}},fit:function(e,t,n,i,r){return e>n&&(e=n),e<t&&(e=t),i+(r-i)*(e-t)/(n-t)},calculateTheField:function(){var e;for(e=0;e<this.grid.length;e++){var t,n=this.grid[e],i=0,r=0;for(t=0;t<this.anchors.length;t++){var a=this.anchors[t],s=Math.pow(a.x-n.x,2),o=Math.pow(a.y-n.y,2),c=Math.pow(s+o,.5);if(0==c){i=1e-6,r=a.v;break}var l=Math.pow(c,-3);r+=a.v*l,i+=(1-a.v)*l}var u=r/(r+i);n.v=this.fit(u,.25,.75,0,1),n.c=this.setHexColor(n.v)}for(t=0;t<this.anchors.length;t++){(a=this.anchors[t]).c=this.setHexColor(a.v)}}}}),P={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pt-5",attrs:{id:"playboard"}},[n("svg",{attrs:{id:"picture",viewBox:"-250 -250 500 500"}},[n("circle",{attrs:{cx:(-1.5-e.numi/2)*(e.nrad+e.space)*2,cy:(.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"blue",stroke:"#999"},on:{click:function(t){return e.addAnchor(0)}}}),e._v(" "),n("circle",{attrs:{cx:(-1.5-e.numi/2)*(e.nrad+e.space)*2,cy:(2.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"red",stroke:"#999"},on:{click:function(t){return e.addAnchor(1)}}}),e._v(" "),n("circle",{attrs:{cx:(-1.5-e.numi/2)*(e.nrad+e.space)*2,cy:(4.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"#333",stroke:"#999"},on:{click:function(t){return e.deleteAnchor()}}}),e._v(" "),e._l(e.grid,function(t){return[n("circle",{key:t.id,attrs:{cx:(t.x-e.numi/2)*(e.nrad+e.space)*2,cy:(t.y-e.numj/2)*(e.nrad+e.space)*2,r:e.nrad,fill:"#ddd",stroke:t.c,"stroke-width":"1.4"},on:{click:function(n){return e.handleClickPoint(t)}}})]}),e._v(" "),e._l(e.anchors,function(t){return[n("circle",{key:-t.id,attrs:{cx:(t.x-e.numi/2)*(e.nrad+e.space)*2,cy:(t.y-e.numj/2)*(e.nrad+e.space)*2,r:e.nrad-2,fill:t.c},on:{click:function(n){return e.handleClickAnchor(t)}}})]})],2)])},staticRenderFns:[]};var L=n("VU/8")($,P,!1,function(e){n("DuPI")},null,null).exports,G=f.ref("anchors"),W={name:"rtplayboard",firebase:{anchors:G},data:function(){return{employees:[],nrad:13,space:1.6,color:"#aaa",ratio:34,nindex:0,curAnchor:-1,calcCount:0,intervalid1:"",grid:[],anchorManual:[],window:{width:0,height:0},startTime:0,firstRound:0}},computed:{numi:function(){return(this.window.width-50)/this.ratio},numj:function(){return(this.window.height-50)/this.ratio}},created:function(){var e=this;window.addEventListener("resize",this.handleResize),this.handleResize(),window.addEventListener("keydown",function(t){"s"==t.key&&e.addAnchor(0),"x"==t.key&&e.addAnchor(1),"Backspace"!=t.key&&"d"!=t.key||e.deleteAnchor()})},destroyed:function(){window.removeEventListener("resize",this.handleResize)},beforeDestroy:function(){clearInterval(this.intervalid1)},mounted:function(){this.startTime=Date.now(),this.setGrid(),this.anchorManualUpdate(),this.calculateTheField(),this.recalc()},methods:{anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},recalc:function(){var e=this;this.intervalid1=setInterval(function(){var t=e.anchorManual;e.anchorManualUpdate();var n=e.anchorManual;(e.arraysEqual(t,n)||e.calculateTheField(),0==e.firstRound)&&(Date.now()-e.startTime>1e3&&(e.calculateTheField(),e.firstRound=1))},1e3/30)},arraysEqual:function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].Data.id!==t[n].Data.id)return!1;if(e[n].Data.x!==t[n].Data.x)return!1;if(e[n].Data.y!==t[n].Data.y)return!1;if(e[n].Data.v!==t[n].Data.v)return!1}return!0},maxID:function(){var e,t=1,n=this.anchorManual;for(e=0;e<n.length;e++){var i=n[e].Data;t<=i.id&&(t=i.id+1)}return t},tempAnchorList:function(){var e=[];return G.once("value",function(t){t.forEach(function(t){var n={Key:t.key,Data:t.val()};e.push(n)})}),e},handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},addAnchor:function(e){var t={id:this.maxID(),x:0,y:0,v:e};G.push(t),this.curAnchor=t.id,console.log("anchor "+this.curAnchor+" added")},deleteAnchor:function(){var e=0;if(-1!=this.curAnchor){for(var t=this.anchorManual,n=0;n<t.length;n++){var i=t[n].Data,r=t[n].Key;this.curAnchor==i.id&&(G.child(r).remove(),e=1)}console.log("anchor "+this.curAnchor+" added"),this.curAnchor=-1}else console.log("anchor "+String(this.curAnchor)+" does not exist anymore");0==e&&console.log("anchor "+String(this.curAnchor)+" does not exist anymore")},setHexColor:function(e){return n("YrBu")("hsl("+String(240+120*e)+", 100%, 50%)").toHexString()},setHexColorPlusUpdates:function(e){var t=n("YrBu"),i="hsl("+String(240+120*e)+", 100%, 50%)";return this.calculateTheField(),t(i).toHexString()},handleClickPoint:function(e){for(var t=0,n=this.anchorManual,i=0;i<n.length;i++){var r=n[i].Data,a=n[i].Key;if(this.curAnchor==n[i].Data.id){r=n[i].Data,a=n[i].Key,t=1;break}}1==t?(r.x=e.x,r.y=e.y,G.child(a).set(r),console.log("anchor "+String(r.id)+" moved"),this.calculateTheField()):(console.log("anchor "+String(this.curAnchor)+" does not exist anymore"),this.curAnchor=-1)},handleClickAnchor:function(e){this.curAnchor=e.id,console.log("anchor "+String(e.id)+" selected")},setGrid:function(){var e,t,n=1;for(e=0;e<this.numi;e++)for(t=0;t<this.numj;t++){var i={id:n+=1,x:e,y:t,v:.5};this.grid.push(i)}},fit:function(e,t,n,i,r){return e>n&&(e=n),e<t&&(e=t),i+(r-i)*(e-t)/(n-t)},calculateTheField:function(){var e,t=this.anchorManual;for(e=0;e<this.grid.length;e++){var n,i=this.grid[e],r=0,a=0;for(n=0;n<t.length;n++){var s=t[n].Data,o=Math.pow(s.x-i.x,2),c=Math.pow(s.y-i.y,2),l=Math.pow(o+c,.5);if(0==l){r=1e-6,a=s.v;break}var u=Math.pow(l,-3);a+=s.v*u,r+=(1-s.v)*u}var h=a/(a+r);i.v=this.fit(h,0,1,0,1)}this.calcCount+=1},WIDTH:function(){return window.innerWidth},HEIGHT:function(){return window.innerHeight-62},viewBox:function(){return String(-this.WIDTH()/2)+" "+String(-this.HEIGHT()/2)+" "+String(this.WIDTH())+" "+String(this.HEIGHT())}}},B={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"rtplayboard"}},[n("svg",{attrs:{width:e.WIDTH(),height:e.HEIGHT(),viewBox:e.viewBox()}},[n("circle",{attrs:{cx:(-1.5-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"blue",stroke:"#999"},on:{click:function(t){return e.addAnchor(0)}}}),e._v(" "),n("circle",{attrs:{cx:(-1.5-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(2.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"red",stroke:"#999"},on:{click:function(t){return e.addAnchor(1)}}}),e._v(" "),n("circle",{attrs:{cx:(-1.5-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(4.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"#333",stroke:"#999"},on:{click:function(t){return e.deleteAnchor()}}}),e._v(" "),e._l(e.grid,function(t){return[n("circle",{key:t.id,attrs:{cx:(t.x-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(t.y-e.numj/2)*(e.nrad+e.space)*2,r:e.nrad,fill:"#ddd",stroke:e.setHexColor(t.v),"stroke-width":"2"},on:{click:function(n){return e.handleClickPoint(t)}}})]}),e._v(" "),e._l(e.anchorManual,function(t){return[n("circle",{key:-t.Data.id,attrs:{cx:(t.Data.x-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(t.Data.y-e.numj/2)*(e.nrad+e.space)*2,r:e.nrad-2,fill:e.setHexColor(t.Data.v)},on:{click:function(n){return e.handleClickAnchor(t.Data)}}})]})],2)])},staticRenderFns:[]};var F=n("VU/8")(W,B,!1,function(e){n("WV/5")},null,null).exports,z=n("Ml+6"),U=f.ref("anchors"),j={name:"threed",data:function(){return{tolerance:.1,intervalid1:"",anchorManual:[],camera:null,scene:null,renderer:null,meshes:[]}},mounted:function(){this.recalc(),this.init(),this.tempAnchorList(),this.setAnalysisGrid(this.tolerance),this.constructMeshes(),this.addMeshesToScene(),this.animate()},beforeDestroy:function(){clearInterval(this.intervalid1)},methods:{init:function(){var e=document.getElementById("threed");this.scene=new z.Scene,this.scene.background=new z.Color(16777215),this.camera=new z.PerspectiveCamera(40,this.WIDTH()/this.HEIGHT(),1,1e3),this.camera.position={x:4,y:4,z:10};var t=new z.Vector3(0,0,0);this.camera.lookAt(t),this.renderer=new z.WebGLRenderer,this.renderer.setSize(this.WIDTH(),this.HEIGHT()),e.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1)},constructMeshes:function(){this.makeBox(2,2,2),this.makeCube(2.005)},addMeshesToScene:function(){for(var e=0;e<this.meshes.length;e++)this.scene.add(this.meshes[e])},animate:function(){requestAnimationFrame(this.animate),this.meshes[0].rotation.y+=.005,this.meshes[1].rotation.y+=.005,this.renderer.render(this.scene,this.camera)},makeBox:function(e,t,n){var i=new z.BoxGeometry(e,t,n),r=new z.LineBasicMaterial({color:16777215,linewidth:1,linecap:"round",linejoin:"round",blending:z.AdditiveBlending,transparent:!0,opacity:.8}),a=new z.Mesh(i,r);this.meshes.push(a)},makePlane:function(e){var t=new z.PlaneGeometry(e,e),n=new z.MeshBasicMaterial({color:13421772,side:z.DoubleSide}),i=new z.Mesh(t,n);i.rotation.x=Math.PI/2,this.meshes.push(i)},makeCube:function(e){var t=this.cube(e),n=new z.LineSegments(t,new z.LineBasicMaterial({color:0,dashSize:.02,gapSize:.01}));n.computeLineDistances(),this.meshes.push(n)},cube:function(e){var t=.5*e,n=new z.BufferGeometry,i=[];return i.push(-t,-t,-t,-t,t,-t,-t,t,-t,t,t,-t,t,t,-t,t,-t,-t,t,-t,-t,-t,-t,-t,-t,-t,t,-t,t,t,-t,t,t,t,t,t,t,t,t,t,-t,t,t,-t,t,-t,-t,t,-t,-t,-t,-t,-t,t,-t,t,-t,-t,t,t,t,t,-t,t,t,t,t,-t,-t,t,-t,t),n.addAttribute("position",new z.Float32BufferAttribute(i,3)),n},WIDTH:function(){return 2*window.innerWidth},HEIGHT:function(){return 2*(window.innerHeight-62)},onWindowResize:function(){this.camera.aspect=this.WIDTH()/this.HEIGHT(),console.log(this.WIDTH(),this.HEIGHT()),this.camera.updateProjectionMatrix(),this.renderer.setSize(this.WIDTH(),this.HEIGHT())},tempAnchorList:function(){var e=[];return U.once("value",function(t){t.forEach(function(t){var n={Key:t.key,Data:t.val()};e.push(n)})}),e},anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},recalc:function(){var e=this;this.intervalid1=setInterval(function(){e.anchorManualUpdate(),e.setAnalysisGrid(e.tol)},100)},setAnalysisGrid:function(e){var t=this.anchorManual;if(t.length>0){for(var n,i,r=t[0].Data.x,a=t[0].Data.y,s=0;s<t.length;s++)t[s].Data.x>r&&(r=t[s].Data.x),t[s].Data.x<n&&(n=t[s].Data.x),t[s].Data.y>a&&(a=t[s].Data.y),t[s].Data.y<i&&(i=t[s].Data.y);console.loh("i got here"),console.log(n,r,i,a)}}}},q={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"threed"}})},staticRenderFns:[]};var V=n("VU/8")(j,q,!1,function(e){n("uaeV")},"data-v-7a44f94c",null).exports,O=n("qKrd"),N=n.n(O)()(z),K=f.ref("anchors"),X={name:"rtthreed",firebase:{anchors:K},data:function(){return{employees:[],nrad:13,space:1.6,color:"#aaa",ratio:34,nindex:0,curAnchor:-1,calcCount:0,intervalid1:"",grid:[],anchorManual:[],window:{width:0,height:0},tolerance:.71,rotation:0,extrusionHeight:1,startTime:0,firstRound:0,camera:null,control:null,scene:null,renderer:null,meshes:[]}},computed:{numi:function(){return(this.window.width-50)/this.ratio},numj:function(){return(this.window.height-50)/this.ratio}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed:function(){window.removeEventListener("resize",this.handleResize)},beforeDestroy:function(){clearInterval(this.intervalid1)},mounted:function(){this.startTime=Date.now(),console.log(N),this.init(),this.constructMeshes(),this.addMeshesToScene(),this.initialRender(),console.log("start"),this.recalc()},methods:{init:function(){var e=document.getElementById("rtthreed");this.scene=new z.Scene,this.scene.background=new z.Color(16777215);var t=new z.AmbientLight(16777215);this.scene.add(t),this.camera=new z.OrthographicCamera(this.WIDTH()/-80,this.WIDTH()/80,this.HEIGHT()/80,this.HEIGHT()/-80,.01,50),this.camera.position.set(16,20,16);var n=new z.Vector3(4,0,4);this.camera.lookAt(n),this.renderer=new z.WebGLRenderer,this.renderer.setSize(this.WIDTH(),this.HEIGHT()),this.renderer.setPixelRatio(window.devicePixelRatio),e.appendChild(this.renderer.domElement),this.controls=new N(this.camera),this.controls.enableZoom=!0,this.controls.enableRotate=!1,this.controls.autoRotate=!1,this.controls.autoRotateSpeed=.5,this.controls.panSpeed=.5,this.controls.rotateSpeed=.7,this.controls.enableDamping=!0,this.controls.dampingFactor=1,this.controls.minPolarAngle=4*-Math.PI/9,this.controls.maxPolarAngle=4*Math.PI/9,this.controls.update(),window.addEventListener("resize",this.onWindowResize,!1)},constructMeshes:function(){this.drawThresholds(this.tolerance),this.setField(this.tolerance)},addMeshesToScene:function(){for(var e=0;e<this.meshes.length;e++)this.scene.add(this.meshes[e])},initialRender:function(){this.renderer.render(this.scene,this.camera)},recalc:function(){var e=this;this.intervalid1=setInterval(function(){var t=e.anchorManual;e.anchorManualUpdate();var n=e.anchorManual;(e.arraysEqual(t,n)?console.log("no change"):(console.log("updating"),e.toUpdate()),0==e.firstRound)&&(Date.now()-e.startTime>1e3&&(e.toUpdate(),e.firstRound=1));e.controls.update(),e.renderer.render(e.scene,e.camera)},1e3/30)},toUpdate:function(){var e=this.scene.getObjectByName("toberefreshed");this.scene.remove(e);var t=this.scene.getObjectByName("toberefreshed1");this.scene.remove(t),this.drawThresholds(this.tolerance/12),this.scene.add(this.meshes[this.meshes.length-1]),this.setField(this.tolerance),this.scene.add(this.meshes[this.meshes.length-1])},arraysEqual:function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].Data.id!==t[n].Data.id)return!1;if(e[n].Data.x!==t[n].Data.x)return!1;if(e[n].Data.y!==t[n].Data.y)return!1;if(e[n].Data.v!==t[n].Data.v)return!1}return!0},WIDTH:function(){return window.innerWidth},HEIGHT:function(){return window.innerHeight-62},onWindowResize:function(){this.camera.aspect=this.WIDTH()/this.HEIGHT(),console.log(this.WIDTH(),this.HEIGHT()),this.camera.updateProjectionMatrix(),this.renderer.setSize(this.WIDTH(),this.HEIGHT())},anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},fit:function(e,t,n,i,r){return e>n&&(e=n),e<t&&(e=t),i+(r-i)*(e-t)/(n-t)},drawThresholds:function(e){var t=this.anchorManual,n=0,i=0,r=0,a=0;if(t.length>0){n=t[0].Data.x,i=t[0].Data.x,r=t[0].Data.y,a=t[0].Data.y;for(var s=0;s<t.length;s++)t[s].Data.x>i&&(i=t[s].Data.x),t[s].Data.x<n&&(n=t[s].Data.x),t[s].Data.y>a&&(a=t[s].Data.y),t[s].Data.y<r&&(r=t[s].Data.y);n-=2,r-=2,i+=2,a+=2}var o=(i-n)/e,c=(a-r)/e,l=new z.BufferGeometry,u=[],h=1;for(s=0;s<o;s++)for(var d=0;d<c;d++){var p=s*e,m=d*e,f=this.evalIntensity(p,m,t),v=this.evalIntensity(p+e,m,t);if((f-.5)*(v-.5)<=0){var w=p+(f<v?this.fit(.5,f,v,0,1):this.fit(.5,v,f,1,0))*e,g=m;u.push(w+n,0,g+r),u.push(w+n,this.extrusionHeight,g+r),h++}var y=this.evalIntensity(p,m+e,t);if((f-.5)*(y-.5)<=0){g=m+(f<y?this.fit(.5,f,y,0,1):this.fit(.5,y,f,1,0))*e,w=p;u.push(w+n,0,g+r),u.push(w+n,this.extrusionHeight,g+r),h++}}var _=new Float32Array(3*h*2);for(s=0;s<3*h*2;s++)_[s]=u[s];l.addAttribute("position",new z.BufferAttribute(_,3));var b=new z.LineSegments(l,new z.LineBasicMaterial({color:0}));b.name="toberefreshed",this.meshes.push(b)},evalIntensity:function(e,t,n){var i,r=0,a=0;for(i=0;i<n.length;i++){var s=n[i].Data,o=Math.pow(s.x-e,2),c=Math.pow(s.y-t,2),l=Math.pow(o+c,.5);if(0==l){r=1e-6,a=s.v;break}var u=Math.pow(l,-3);a+=s.v*u,r+=(1-s.v)*u}var h=a/(a+r);return this.fit(h,0,1,0,1)},setField:function(e){var t=this.anchorManual,n=0,i=0,r=0,a=0;if(t.length>0){n=t[0].Data.x,i=t[0].Data.x,r=t[0].Data.y,a=t[0].Data.y;for(var s=0;s<t.length;s++)t[s].Data.x>i&&(i=t[s].Data.x),t[s].Data.x<n&&(n=t[s].Data.x),t[s].Data.y>a&&(a=t[s].Data.y),t[s].Data.y<r&&(r=t[s].Data.y);n-=2,r-=2,i+=2,a+=2}var o=Math.ceil((i-n)/e),c=Math.ceil((a-r)/e),l=new z.BufferGeometry,u=(new z.Color(1,0,0),o*c),h=new Float32Array(3*u),d=new Float32Array(3*u),p=[],m=0;for(s=0;s<o;s++)for(var f=0;f<c;f++){var v,w=s*e,g=f*e,y=0,_=0;for(v=0;v<t.length;v++){var b=t[v].Data,x=Math.pow(b.x-w,2),D=Math.pow(b.y-g,2),C=Math.pow(x+D,.5);if(0==C){y=1e-6,_=b.v;break}var A=Math.pow(C,-3);_+=b.v*A,y+=(1-b.v)*A}var E=_/(_+y),k=this.fit(E,0,1,0,1);h[3*m]=w+n,h[3*m+1]=0,h[3*m+2]=g+r;d[3*m]=k,d[3*m+1]=0,d[3*m+2]=1-k,m++}for(s=0;s<o-1;s++)for(f=0;f<c-1;f++){b=s*c+(f+1);var H=s*c+f,M=(s+1)*c+f,I=(s+1)*c+(f+1);p.push(b,H,I),p.push(H,M,I),console.log(o,c)}console.log(m),l.setIndex(p),l.addAttribute("position",new z.BufferAttribute(h,3)),l.addAttribute("color",new z.BufferAttribute(d,3));new z.PointsMaterial({size:.06,vertexColors:z.VertexColors}),new z.MeshBasicMaterial({color:16711680});var T=new z.MeshPhongMaterial({specular:1118481,shininess:250,side:z.DoubleSide,vertexColors:z.VertexColors}),S=new z.Mesh(l,T);S.name="toberefreshed1",S.material.transparent=!0,S.material.opacity=.6,this.meshes.push(S)},tempAnchorList:function(){var e=[];return K.once("value",function(t){t.forEach(function(t){var n={Key:t.key,Data:t.val()};e.push(n)})}),e},handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},viewBox:function(){return String(-this.WIDTH()/2)+" "+String(-this.HEIGHT()/2)+" "+String(this.WIDTH())+" "+String(this.HEIGHT())}}},Y={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"rtthreed"}})},staticRenderFns:[]};var J=n("VU/8")(X,Y,!1,function(e){n("XsXk")},"data-v-66762bc6",null).exports,Z=f.ref("anchors"),Q={name:"field",firebase:{anchors:Z},data:function(){return{employees:[],nrad:13,space:1.6,color:"#aaa",ratio:34,nindex:0,curAnchor:-1,calcCount:0,intervalid1:"",grid:[],anchorManual:[],window:{width:0,height:0},tolerance:.15,rotation:0,camera:null,scene:null,renderer:null,meshes:[]}},computed:{numi:function(){return(this.window.width-50)/this.ratio},numj:function(){return(this.window.height-50)/this.ratio}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.anchorManualUpdate()},destroyed:function(){window.removeEventListener("resize",this.handleResize)},beforeDestroy:function(){clearInterval(this.intervalid1)},mounted:function(){this.init(),this.constructMeshes(),this.addMeshesToScene(),this.recalc()},methods:{init:function(){var e=document.getElementById("field");this.scene=new z.Scene,this.scene.background=new z.Color(16777215),this.camera=new z.PerspectiveCamera(40,this.WIDTH()/this.HEIGHT(),1,1e3),this.camera.position={x:20,y:20,z:20};var t=new z.Vector3(0,0,0);this.camera.lookAt(t),this.renderer=new z.WebGLRenderer,this.renderer.setSize(this.WIDTH(),this.HEIGHT()),this.renderer.setPixelRatio(window.devicePixelRatio),e.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1)},constructMeshes:function(){this.setField(this.tolerance)},addMeshesToScene:function(){for(var e=0;e<this.meshes.length;e++)this.scene.add(this.meshes[e])},animate:function(){setTimeout(function(){console.log("imwaiting")},5e3),requestAnimationFrame(this.animate),this.meshes[0].rotation.y+=.005,this.meshes[1].rotation.y+=.005,this.renderer.render(this.scene,this.camera)},recalc:function(){var e=this;this.intervalid1=setInterval(function(){e.anchorManualUpdate();var t=e.scene.getObjectByName("toberefreshed");e.scene.remove(t),e.setField(e.tolerance),e.scene.add(e.meshes[e.meshes.length-1]),e.renderer.render(e.scene,e.camera)},100)},makeBox:function(e,t,n){var i=new z.BoxGeometry(e,t,n),r=new z.LineBasicMaterial({color:16777215,linewidth:1,linecap:"round",linejoin:"round",blending:z.AdditiveBlending,transparent:!0,opacity:.8}),a=new z.Mesh(i,r);this.meshes.push(a)},makePlane:function(e){var t=new z.PlaneGeometry(e,e),n=new z.MeshBasicMaterial({color:13421772,side:z.DoubleSide}),i=new z.Mesh(t,n);i.rotation.x=Math.PI/2,this.meshes.push(i)},makeCube:function(e){var t=this.cube(e),n=new z.LineSegments(t,new z.LineBasicMaterial({color:0,dashSize:.02,gapSize:.01}));n.computeLineDistances(),this.meshes.push(n)},cube:function(e){var t=.5*e,n=new z.BufferGeometry,i=[];return i.push(-t,-t,-t,-t,t,-t,-t,t,-t,t,t,-t,t,t,-t,t,-t,-t,t,-t,-t,-t,-t,-t,-t,-t,t,-t,t,t,-t,t,t,t,t,t,t,t,t,t,-t,t,t,-t,t,-t,-t,t,-t,-t,-t,-t,-t,t,-t,t,-t,-t,t,t,t,t,-t,t,t,t,t,-t,-t,t,-t,t),n.addAttribute("position",new z.Float32BufferAttribute(i,3)),n},WIDTH:function(){return window.innerWidth},HEIGHT:function(){return window.innerHeight-62},onWindowResize:function(){this.camera.aspect=this.WIDTH()/this.HEIGHT(),console.log(this.WIDTH(),this.HEIGHT()),this.camera.updateProjectionMatrix(),this.renderer.setSize(this.WIDTH(),this.HEIGHT())},anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},fit:function(e,t,n,i,r){return e>n&&(e=n),e<t&&(e=t),i+(r-i)*(e-t)/(n-t)},setField:function(e){var t=this.anchorManual,n=0,i=0,r=0,a=0;if(t.length>0){n=t[0].Data.x,i=t[0].Data.x,r=t[0].Data.y,a=t[0].Data.y;for(var s=0;s<t.length;s++)t[s].Data.x>i&&(i=t[s].Data.x),t[s].Data.x<n&&(n=t[s].Data.x),t[s].Data.y>a&&(a=t[s].Data.y),t[s].Data.y<r&&(r=t[s].Data.y);n-=2,r-=2,i+=2,a+=2}var o=(i-n)/e,c=(a-r)/e,l=new z.BufferGeometry,u=(new z.Color(1,0,0),o*c),h=new Float32Array(3*u),d=new Float32Array(3*u),p=0;for(s=0;s<o;s++)for(var m=0;m<c;m++){var f,v=s*e,w=m*e,g=0,y=0;for(f=0;f<t.length;f++){var _=t[f].Data,b=Math.pow(_.x-v,2),x=Math.pow(_.y-w,2),D=Math.pow(b+x,.5);if(0==D){g=1e-6,y=_.v;break}var C=Math.pow(D,-3);y+=_.v*C,g+=(1-_.v)*C}var A=y/(y+g),E=this.fit(A,0,1,0,1);h[3*p]=v-.5*o*e,h[3*p+1]=E,h[3*p+2]=w-.5*c*e;d[3*p]=E,d[3*p+1]=0,d[3*p+2]=1-E,p++}l.addAttribute("position",new z.BufferAttribute(h,3)),l.addAttribute("color",new z.BufferAttribute(d,3));var k=new z.PointsMaterial({size:.1,vertexColors:z.VertexColors}),H=new z.Points(l,k);H.name="toberefreshed",this.meshes.push(H),console.log("grid updated")},tempAnchorList:function(){var e=[];return Z.once("value",function(t){t.forEach(function(t){var n={Key:t.key,Data:t.val()};e.push(n)})}),e},handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},viewBox:function(){var e=String(-this.WIDTH()/2)+" "+String(-this.HEIGHT()/2)+" "+String(this.WIDTH())+" "+String(this.HEIGHT());return console.log(e),e}}},ee={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"field"}})},staticRenderFns:[]};var te=n("VU/8")(Q,ee,!1,function(e){n("AMBn")},"data-v-03e130ec",null).exports;i.a.use(d.a);var ne=new d.a({routes:[{path:"/",name:"dashboard",component:g,meta:{requiresAuth:!0}},{path:"/threed",name:"threed",component:V,meta:{requiresAuth:!0}},{path:"/field",name:"field",component:te,meta:{requiresAuth:!0}},{path:"/rtthreed",name:"rtthreed",component:J,meta:{requiresAuth:!0}},{path:"/play",name:"playboard",component:L,meta:{requiresAuth:!0}},{path:"/rtplay",name:"rtplayboard",component:F,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:I,meta:{requiresGuest:!0}},{path:"/register",name:"register",component:R,meta:{requiresGuest:!0}},{path:"/new",name:"new-employee",component:b,meta:{requiresAuth:!0}},{path:"/edit/:employee_id",name:"edit-employee",component:C,meta:{requiresAuth:!0}},{path:"/:employee_id",name:"view-employee",component:k,meta:{requiresAuth:!0}}]});ne.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})?a.a.auth().currentUser?n():n({path:"/login",querry:{redirect:e.fullPath}}):e.matched.some(function(e){return e.meta.requiresGuest})&&a.a.auth().currentUser?(n(),n({path:"/",querry:{redirect:e.fullPath}})):n()});var ie=ne;i.a.config.productionTip=!1;var re=n("KpPp");i.a.use(re);var ae=void 0;a.a.auth().onAuthStateChanged(function(e){ae||(ae=new i.a({el:"#app",router:ie,components:{App:h},template:"<App/>"}))})},"WV/5":function(e,t){},XsXk:function(e,t){},uaeV:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.89adc9694b5f64d5c0c5.js.map