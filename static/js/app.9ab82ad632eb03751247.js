webpackJsonp([1],{"7eDv":function(e,t){},AMBn:function(e,t){},DuPI:function(e,t){},KpPp:function(e,t,a){var i;i=function(){return function(e){var t={};function a(i){if(t[i])return t[i].exports;var n=t[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}return a.m=e,a.c=t,a.p="",a(0)}([function(e,t){var a;function i(e){return"function"==typeof e.key?e.key():e.key}function n(e){return"[object Object]"===Object.prototype.toString.call(e)}function r(e){var t=e.val(),a=n(t)?t:{".value":t};return a[".key"]=i(e),a}function s(e,t){for(var a=0;a<e.length;a++)if(e[a][".key"]===t)return a;return-1}function o(e,t,a){var o=!1,l=null,c=null;if(n(a)&&a.hasOwnProperty("source")&&(o=a.asObject,l=a.cancelCallback,c=a.readyCallback,a=a.source),!n(a))throw new Error("VueFire: invalid Firebase binding source.");var d,u=("function"==typeof(d=a).ref?d=d.ref():"object"==typeof d.ref&&(d=d.ref),d);e.$firebaseRefs[t]=u,e._firebaseSources[t]=a,l&&(l=l.bind(e)),o?function(e,t,a,i){h(e,t,{});var n=a.on("value",function(a){e[t]=r(a)},i);e._firebaseListeners[t]={value:n}}(e,t,a,l):function(e,t,a,n){var o=[];h(e,t,o);var l=a.on("child_added",function(e,t){var a=t?s(o,t)+1:0;o.splice(a,0,r(e))},n),c=a.on("child_removed",function(e){var t=s(o,i(e));o.splice(t,1)},n),d=a.on("child_changed",function(e){var t=s(o,i(e));o.splice(t,1,r(e))},n),u=a.on("child_moved",function(e,t){var a=s(o,i(e)),n=o.splice(a,1)[0],r=t?s(o,t)+1:0;o.splice(r,0,n)},n);e._firebaseListeners[t]={child_added:l,child_removed:c,child_changed:d,child_moved:u}}(e,t,a,l),c&&a.once("value",c.bind(e))}function h(e,t,i){t in e?e[t]=i:a.util.defineReactive(e,t,i)}function l(e){e.$firebaseRefs||(e.$firebaseRefs=Object.create(null),e._firebaseSources=Object.create(null),e._firebaseListeners=Object.create(null))}var c={created:function(){var e=this.$options.firebase;if("function"==typeof e&&(e=e.call(this)),e)for(var t in l(this),e)o(this,t,e[t])},beforeDestroy:function(){if(this.$firebaseRefs){for(var e in this.$firebaseRefs)this.$firebaseRefs[e]&&this.$unbind(e);this.$firebaseRefs=null,this._firebaseSources=null,this._firebaseListeners=null}}};function d(e){(a=e).mixin(c);var t=a.config.optionMergeStrategies;t.firebase=t.provide,a.prototype.$bindAsObject=function(e,t,a,i){l(this),o(this,e,{source:t,asObject:!0,cancelCallback:a,readyCallback:i})},a.prototype.$bindAsArray=function(e,t,a,i){l(this),o(this,e,{source:t,cancelCallback:a,readyCallback:i})},a.prototype.$unbind=function(e){!function(e,t){var a=e._firebaseSources&&e._firebaseSources[t];if(!a)throw new Error('VueFire: unbind failed: "'+t+'" is not bound to a Firebase reference.');var i=e._firebaseListeners[t];for(var n in i)a.off(n,i[n]);e[t]=null,e.$firebaseRefs[t]=null,e._firebaseSources[t]=null,e._firebaseListeners[t]=null}(this,e)}}"undefined"!=typeof window&&window.Vue&&d(window.Vue),e.exports=d}])},e.exports=i()},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),n=a("kxiW"),r=a.n(n),s={props:["label","nodes","depth"],data:()=>({showChildren:!1,sign:"+"}),name:"tree-menu",computed:{indent(){return{transform:`translate(${10*this.depth}px)`}}},methods:{toggleChildren(){this.showChildren=!this.showChildren,"+"==this.sign?this.sign="-":this.sign="+"}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tree-menu",attrs:{id:"vert-menu"}},[a("div",{style:e.indent,attrs:{id:"side-by-side"},on:{click:e.toggleChildren}},[e._v(e._s(e.sign))]),e._v(" "),a("div",{style:e.indent,attrs:{id:"side-by-side"}},[e._v(e._s(e.label))]),e._v(" "),e.showChildren?a("div",e._l(e.nodes,function(t){return a("tree-menu",{key:t.label,attrs:{nodes:t.nodes,label:t.label,depth:e.depth+1}})}),1):e._e()])},staticRenderFns:[]};var h={name:"navbar",components:{TreeMenu:a("VU/8")(s,o,!1,function(e){a("VnPm")},null,null).exports},data:()=>({isLoggedIn:!1,currentUser:!1,tree:{label:"root",nodes:[{label:"item1",nodes:[{label:"item1.1"},{label:"item1.2",nodes:[{label:"item1.2.1"}]}]},{label:"item2"}]}}),created(){r.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=r.a.auth().currentUser.email)},methods:{logout:function(){r.a.auth().signOut().then(()=>{this.$router.push("/login"),window.location.reload(!0)})}}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("tree-menu",{attrs:{label:this.tree.label,nodes:this.tree.nodes,depth:0}})],1)},staticRenderFns:[]},c={name:"App",components:{Navbar:a("VU/8")(h,l,!1,null,null,null).exports}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"sideMenu"}},[t("Navbar")],1),this._v(" "),t("div",{attrs:{id:"mainBody"}},[t("router-view")],1)])},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(e){a("7eDv")},null,null).exports,p=a("/ocq");a("881v");const m=r.a.initializeApp({apiKey:"AIzaSyCeOmk2Dn8KK175ip0Pmgb7cu1kd7j_M8o",authDomain:"playscapes01.firebaseapp.com",databaseURL:"https://playscapes01.firebaseio.com",projectId:"playscapes01",storageBucket:"playscapes01.appspot.com",messagingSenderId:"370840827427"});let f=m.firestore(),v=m.database();var g=a("dEcQ"),w=a.n(g),y={name:"dashboard",data:()=>({employees:[],isLoggedIn:!1,currentUser:!1,mdContent:null}),created(){r.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=r.a.auth().currentUser.email,this.mdContent=w.a.html),f.collection("employees").orderBy("employee_id").get().then(e=>{e.forEach(e=>{const t={id:e.id,employee_id:e.data().employee_id,name:e.data().name,dept:e.data().dept};this.employees.push(t)})}),console.log(this.employees)},methods:{logout:function(){r.a.auth().signOut().then(()=>{this.$router.push("/login"),window.location.reload(!0)})}}},b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"dashboard"}},[t("div",{domProps:{innerHTML:this._s(this.mdContent)}})])},staticRenderFns:[]},_=a("VU/8")(y,b,!1,null,null,null).exports,D={name:"new-employee",data:()=>({employee_id:null,name:null,dept:null}),methods:{saveEmployee(){f.collection("employees").add({employee_id:this.employee_id,name:this.name,dept:this.dept,position:this.position}).then(e=>{this.$router.push("/")}).catch(e=>console.log(err))}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container pt-5",attrs:{id:"new-employee"}},[a("div",{staticClass:"card"},[e._m(0),e._v(" "),a("div",{staticClass:"card-body"},[a("form",{staticClass:"col s12",on:{submit:function(t){return t.preventDefault(),e.saveEmployee(t)}}},[a("div",{staticClass:"input-group mb-3"},[e._m(1),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employee_id,expression:"employee_id"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.employee_id},on:{input:function(t){t.target.composing||(e.employee_id=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group mb-3"},[e._m(2),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group mb-3"},[e._m(3),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dept,expression:"dept"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.dept},on:{input:function(t){t.target.composing||(e.dept=t.target.value)}}})]),e._v(" "),a("hr"),e._v(" "),a("div",[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Submit")]),e._v(" "),a("router-link",{staticClass:"btn btn-outline-danger",attrs:{to:"/"}},[e._v("Cancel")])],1)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h4",[this._v("Edit Player")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Player ID")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Name")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Role")])])}]},C=a("VU/8")(D,x,!1,null,null,null).exports,I={name:"edit-employee",data:()=>({employee_id:null,name:null,dept:null,position:null}),beforeRouteEnter(e,t,a){f.collection("employees").where("employee_id","==",e.params.employee_id).get().then(e=>{e.forEach(e=>{a(t=>{t.employee_id=e.data().employee_id,t.name=e.data().name,t.dept=e.data().dept})})})},watch:{$route:"fetchData"},methods:{fetchData(){f.collection("employees").where("employee_id","==",this.$route.params.employee_id).get().then(e=>{e.forEach(e=>{this.employee_id=e.data().employee_id,this.name=e.data().name,this.dept=e.data().dept})})},updateEmployee(){confirm("Sure?")&&f.collection("employees").where("employee_id","==",this.$route.params.employee_id).get().then(e=>{e.forEach(e=>{e.ref.update({employee_id:this.employee_id,name:this.name,dept:this.dept}).then(()=>{this.$router.push({name:"view-employee",params:{employee_id:this.employee_id}})})})})}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container pt-5",attrs:{id:"edit-employee"}},[a("div",{staticClass:"card"},[e._m(0),e._v(" "),a("div",{staticClass:"card-body"},[a("form",{staticClass:"col s12",on:{submit:function(t){return t.preventDefault(),e.updateEmployee(t)}}},[a("div",{staticClass:"input-group mb-3"},[e._m(1),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employee_id,expression:"employee_id"}],staticClass:"form-control",attrs:{type:"text",disabled:"",required:""},domProps:{value:e.employee_id},on:{input:function(t){t.target.composing||(e.employee_id=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group mb-3"},[e._m(2),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group mb-3"},[e._m(3),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dept,expression:"dept"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.dept},on:{input:function(t){t.target.composing||(e.dept=t.target.value)}}})]),e._v(" "),a("hr"),e._v(" "),a("div",[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Submit")]),e._v(" "),a("router-link",{staticClass:"btn btn-outline-danger",attrs:{to:"/"}},[e._v("Cancel")])],1)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h4",[this._v("Edit Game")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Game ID")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Name")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Owner")])])}]},k=a("VU/8")(I,A,!1,null,null,null).exports,M={name:"view-employee",data:()=>({employee_id:null,name:null,dept:null}),beforeRouteEnter(e,t,a){f.collection("employees").where("employee_id","==",e.params.employee_id).get().then(e=>{e.forEach(e=>{a(t=>{t.employee_id=e.data().employee_id,t.name=e.data().name,t.dept=e.data().dept})})})},watch:{$route:"fetchData"},methods:{fetchData(){f.collection("employees").where("employee_id","==",this.$route.params.employee_id).get().then(e=>{e.forEach(e=>{this.employee_id=e.data().employee_id,this.name=e.data().name,this.dept=e.data().dept})})},deleteEmployee(){confirm("Sure?")&&f.collection("employees").where("employee_id","==",this.$route.params.employee_id).get().then(e=>{e.forEach(e=>{e.ref.delete(),this.$router.push("/")})})},doNothing(){console.log("to be implemented")},anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},tempAnchorList:function(){var e=[];return anchorsRef.once("value",function(t){t.forEach(function(t){var a={Key:t.key,Data:t.val()};e.push(a)})}),e}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container pt-5",attrs:{id:"view-employee"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h4",[e._v(e._s(e.name))])]),e._v(" "),a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item"},[e._v("Game ID : "+e._s(e.employee_id))]),e._v(" "),a("li",{staticClass:"list-group-item"},[e._v("Owner : "+e._s(e.dept))]),e._v(" "),a("router-link",{staticClass:"list-group-item btn btn-outline-primary",attrs:{to:"/rtplay"}},[e._v("Playboard")]),e._v(" "),a("router-link",{staticClass:"list-group-item btn btn-outline-warning",attrs:{to:"/rtthreed"}},[e._v("3D (under construction)")])],1)]),e._v(" "),a("hr"),e._v(" "),a("div",{staticClass:"card"},[a("ul",{staticClass:"list-group list-group-flush"},[a("router-link",{staticClass:"list-group-item btn btn-outline-dark",attrs:{to:"/"}},[e._v("Back")]),e._v(" "),a("router-link",{staticClass:"list-group-item btn btn-outline-primary",attrs:{to:{name:"edit-employee",params:{employee_id:e.employee_id}}}},[e._v("Edit Information")]),e._v(" "),a("button",{staticClass:"list-group-item btn btn-outline-danger",on:{click:e.doNothing}},[e._v("Delete (to be implemented)")])],1),e._v(" "),a("div",{staticClass:"fixed-action-btn"},[a("router-link",{staticClass:"btn-floating btn-larg red",attrs:{to:{name:"edit-employee",params:{employee_id:e.employee_id}}}},[a("i",{staticClass:"fa fa-pencil"})])],1)])])},staticRenderFns:[]},H=a("VU/8")(M,E,!1,null,null,null).exports,T={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(e){r.a.auth().signInWithEmailAndPassword(this.email,this.password).then(e=>{window.location.reload(!0),this.$router.push("/")},e=>{alert(e.message)}),e.preventDefault()},register:function(e){r.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(e=>{alert("Account Created"),window.location.reload(!0),this.$router.push("/")},e=>{alert(e.message)}),e.preventDefault()}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container pt-5"},[a("div",{staticClass:"card"},[e._m(0),e._v(" "),a("div",{staticClass:"card-body"},[a("form",[a("div",{staticClass:"input-group mb-3"},[e._m(1),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group mb-3"},[e._m(2),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("buttun",{staticClass:"btn btn-outline-primary",on:{click:e.login}},[e._v("Sign In")]),e._v(" "),a("buttun",{staticClass:"btn btn-outline-success",on:{click:e.register}},[e._v("Sign Up")])],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h3",[this._v("Login")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Email")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Password")])])}]},S=a("VU/8")(T,R,!1,null,null,null).exports,O={name:"register",data:function(){return{email:"",password:""}},methods:{register:function(e){r.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(e=>{alert("Account Created"),window.location.reload(!0),this.$router.push("/")},e=>{alert(e.message)}),e.preventDefault()}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pt-5"},[a("div",{staticClass:"card text-black bg-light mb-3"},[e._m(0),e._v(" "),a("div",{staticClass:"card-body"},[a("form",[a("div",{staticClass:"input-group mb-3"},[e._m(1),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group mb-3"},[e._m(2),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("buttun",{staticClass:"btn btn-outline-success",on:{click:e.register}},[e._v("Register")])],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h3",[this._v("Register")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Email")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Password")])])}]},L=a("VU/8")(O,P,!1,null,null,null).exports,z=(a("YrBu"),a("vwbq"),a("M4fF"),{name:"playboard",data:()=>({employees:[],nrad:7,space:1,color:"#aaa",maxID:0,ratio:32,nindex:0,curAnchor:-1,grid:[],anchors:[],window:{width:0,height:0}}),computed:{numi(){return this.window.width/this.ratio},numj(){return this.window.height/this.ratio}},created(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.setGrid(),this.getAnchorLocationFromServer(),this.calculateTheField(),window.addEventListener("keydown",e=>{"s"==e.key&&this.addAnchor(0),"x"==e.key&&this.addAnchor(1),"Backspace"!=e.key&&"d"!=e.key||this.deleteAnchor()})},destroyed(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},addAnchor:function(e){var t={id:this.maxID,x:0,y:0,v:e};this.anchors.push(t),this.curAnchor=this.maxID,this.maxID+=1,this.addAnchorToServer(t),this.calculateTheField()},deleteAnchor(){if(-1!=this.curAnchor){var e,t=[];for(e=0;e<this.anchors.length;e++){var a=this.anchors[e];this.curAnchor!=a.id?t.push(a):(this.deleteAnchorFromServer(a),console.log("anchor "+String(a.id)+" deleted"))}this.anchors=t,this.curAnchor=-1,this.calculateTheField()}},getAnchorLocationFromServer:function(){f.collection("anchors").get().then(e=>{e.forEach(e=>{var t=this.setHexColor(e.data().v);e.data().id>this.maxID&&(this.maxID=e.data().id+1);const a={id:e.data().id,x:e.data().x,y:e.data().y,v:e.data().v,c:t};this.anchors.push(a)})})},addAnchorToServer:function(e){f.collection("anchors").add(e)},updateAnchorLocationOnServer:function(e){f.collection("anchors").where("id","==",e.id).get().then(t=>{t.forEach(t=>{t.ref.update({x:e.x,y:e.y})})})},deleteAnchorFromServer:function(e){f.collection("anchors").where("id","==",e.id).get().then(e=>{e.forEach(e=>{e.ref.delete()})})},setHexColor:function(e){return a("YrBu")("hsl("+String(240+120*e)+", 100%, 50%)").toHexString()},handleClickPoint:function(e){var t,a;for(a=0;a<this.anchors.length;a++)this.anchors[a].id==this.curAnchor&&(t=this.anchors[a]);t.x=e.x,t.y=e.y,this.updateAnchorLocationOnServer(t),this.calculateTheField(),console.log("anchor "+String(t.id)+" moved")},handleClickAnchor:function(e){this.curAnchor=e.id,console.log("anchor "+String(e.id)+" selected")},setGrid(){var e,t,a=1;for(e=0;e<this.numi;e++)for(t=0;t<this.numj;t++){var i={id:a+=1,x:e,y:t,v:.5};this.grid.push(i)}},setAnchors(){var e;for(e=0;e<2;e++){var t={id:e,x:e,y:e,v:e};this.anchors.push(t)}},fit:function(e,t,a,i,n){return e>a&&(e=a),e<t&&(e=t),i+(n-i)*(e-t)/(a-t)},calculateTheField(){var e;for(e=0;e<this.grid.length;e++){var t,a=this.grid[e],i=0,n=0;for(t=0;t<this.anchors.length;t++){var r=this.anchors[t],s=Math.pow(r.x-a.x,2),o=Math.pow(r.y-a.y,2),h=Math.pow(s+o,.5);if(0==h){i=1e-6,n=r.v;break}var l=Math.pow(h,-3);n+=r.v*l,i+=(1-r.v)*l}var c=n/(n+i);a.v=this.fit(c,.25,.75,0,1),a.c=this.setHexColor(a.v)}for(t=0;t<this.anchors.length;t++){(r=this.anchors[t]).c=this.setHexColor(r.v)}}}}),W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pt-5",attrs:{id:"playboard"}},[a("svg",{attrs:{id:"picture",viewBox:"-250 -250 500 500"}},[a("circle",{attrs:{cx:(-1.5-e.numi/2)*(e.nrad+e.space)*2,cy:(.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"blue",stroke:"#999"},on:{click:function(t){return e.addAnchor(0)}}}),e._v(" "),a("circle",{attrs:{cx:(-1.5-e.numi/2)*(e.nrad+e.space)*2,cy:(2.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"red",stroke:"#999"},on:{click:function(t){return e.addAnchor(1)}}}),e._v(" "),a("circle",{attrs:{cx:(-1.5-e.numi/2)*(e.nrad+e.space)*2,cy:(4.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"#333",stroke:"#999"},on:{click:function(t){return e.deleteAnchor()}}}),e._v(" "),e._l(e.grid,function(t){return[a("circle",{key:t.id,attrs:{cx:(t.x-e.numi/2)*(e.nrad+e.space)*2,cy:(t.y-e.numj/2)*(e.nrad+e.space)*2,r:e.nrad,fill:"#ddd",stroke:t.c,"stroke-width":"1.4"},on:{click:function(a){return e.handleClickPoint(t)}}})]}),e._v(" "),e._l(e.anchors,function(t){return[a("circle",{key:-t.id,attrs:{cx:(t.x-e.numi/2)*(e.nrad+e.space)*2,cy:(t.y-e.numj/2)*(e.nrad+e.space)*2,r:e.nrad-2,fill:t.c},on:{click:function(a){return e.handleClickAnchor(t)}}})]})],2)])},staticRenderFns:[]};var $=a("VU/8")(z,W,!1,function(e){a("DuPI")},null,null).exports;let G=v.ref("anchors");var B={name:"rtplayboard",firebase:{anchors:G},data:()=>({employees:[],nrad:13,space:1.6,color:"#aaa",ratio:34,nindex:0,curAnchor:-1,calcCount:0,intervalid1:"",grid:[],anchorManual:[],window:{width:0,height:0},startTime:0,firstRound:0}),computed:{numi(){return(this.window.width-50)/this.ratio},numj(){return(this.window.height-50)/this.ratio}},created(){window.addEventListener("resize",this.handleResize),this.handleResize(),window.addEventListener("keydown",e=>{"s"==e.key&&this.addAnchor(0),"x"==e.key&&this.addAnchor(1),"Backspace"!=e.key&&"d"!=e.key||this.deleteAnchor()})},destroyed(){window.removeEventListener("resize",this.handleResize)},beforeDestroy(){clearInterval(this.intervalid1)},mounted:function(){this.startTime=Date.now(),this.setGrid(),this.anchorManualUpdate(),this.calculateTheField(),this.recalc()},methods:{anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},recalc:function(){this.intervalid1=setInterval(()=>{var e=this.anchorManual;this.anchorManualUpdate();var t=this.anchorManual;(this.arraysEqual(e,t)||this.calculateTheField(),0==this.firstRound)&&(Date.now()-this.startTime>1e3&&(this.calculateTheField(),this.firstRound=1))},1e3/30)},arraysEqual:function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var a=0;a<e.length;++a){if(e[a].Data.id!==t[a].Data.id)return!1;if(e[a].Data.x!==t[a].Data.x)return!1;if(e[a].Data.y!==t[a].Data.y)return!1;if(e[a].Data.v!==t[a].Data.v)return!1}return!0},maxID(){var e,t=1,a=this.anchorManual;for(e=0;e<a.length;e++){var i=a[e].Data;t<=i.id&&(t=i.id+1)}return t},tempAnchorList:function(){var e=[];return G.once("value",function(t){t.forEach(function(t){var a={Key:t.key,Data:t.val()};e.push(a)})}),e},handleResize(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},addAnchor:function(e){var t={id:this.maxID(),x:0,y:0,v:e};G.push(t),this.curAnchor=t.id,console.log("anchor "+this.curAnchor+" added")},deleteAnchor(){var e=0;if(-1!=this.curAnchor){for(var t=this.anchorManual,a=0;a<t.length;a++){var i=t[a].Data,n=t[a].Key;this.curAnchor==i.id&&(G.child(n).remove(),e=1)}console.log("anchor "+this.curAnchor+" added"),this.curAnchor=-1}else console.log("anchor "+String(this.curAnchor)+" does not exist anymore");0==e&&console.log("anchor "+String(this.curAnchor)+" does not exist anymore")},setHexColor:function(e){return a("YrBu")("hsl("+String(240+120*e)+", 100%, 50%)").toHexString()},setHexColorPlusUpdates:function(e){var t=a("YrBu"),i="hsl("+String(240+120*e)+", 100%, 50%)";return this.calculateTheField(),t(i).toHexString()},handleClickPoint:function(e){for(var t=0,a=this.anchorManual,i=0;i<a.length;i++){var n=a[i].Data,r=a[i].Key;if(this.curAnchor==a[i].Data.id){n=a[i].Data,r=a[i].Key,t=1;break}}1==t?(n.x=e.x,n.y=e.y,G.child(r).set(n),console.log("anchor "+String(n.id)+" moved"),this.calculateTheField()):(console.log("anchor "+String(this.curAnchor)+" does not exist anymore"),this.curAnchor=-1)},handleClickAnchor:function(e){this.curAnchor=e.id,console.log("anchor "+String(e.id)+" selected")},setGrid(){var e,t,a=1;for(e=0;e<this.numi;e++)for(t=0;t<this.numj;t++){var i={id:a+=1,x:e,y:t,v:.5};this.grid.push(i)}},fit:function(e,t,a,i,n){return e>a&&(e=a),e<t&&(e=t),i+(n-i)*(e-t)/(a-t)},calculateTheField:function(){var e,t=this.anchorManual;for(e=0;e<this.grid.length;e++){var a,i=this.grid[e],n=0,r=0;for(a=0;a<t.length;a++){var s=t[a].Data,o=Math.pow(s.x-i.x,2),h=Math.pow(s.y-i.y,2),l=Math.pow(o+h,.5);if(0==l){n=1e-6,r=s.v;break}var c=Math.pow(l,-3);r+=s.v*c,n+=(1-s.v)*c}var d=r/(r+n);i.v=this.fit(d,0,1,0,1)}this.calcCount+=1},WIDTH:function(){return window.innerWidth},HEIGHT:function(){return window.innerHeight-62},viewBox:function(){return String(-this.WIDTH()/2)+" "+String(-this.HEIGHT()/2)+" "+String(this.WIDTH())+" "+String(this.HEIGHT())}}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"rtplayboard"}},[a("svg",{attrs:{width:e.WIDTH(),height:e.HEIGHT(),viewBox:e.viewBox()}},[a("circle",{attrs:{cx:(-1.5-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"blue",stroke:"#999"},on:{click:function(t){return e.addAnchor(0)}}}),e._v(" "),a("circle",{attrs:{cx:(-1.5-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(2.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"red",stroke:"#999"},on:{click:function(t){return e.addAnchor(1)}}}),e._v(" "),a("circle",{attrs:{cx:(-1.5-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(4.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"#333",stroke:"#999"},on:{click:function(t){return e.deleteAnchor()}}}),e._v(" "),e._l(e.grid,function(t){return[a("circle",{key:t.id,attrs:{cx:(t.x-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(t.y-e.numj/2)*(e.nrad+e.space)*2,r:e.nrad,fill:"#ddd",stroke:e.setHexColor(t.v),"stroke-width":"2"},on:{click:function(a){return e.handleClickPoint(t)}}})]}),e._v(" "),e._l(e.anchorManual,function(t){return[a("circle",{key:-t.Data.id,attrs:{cx:(t.Data.x-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(t.Data.y-e.numj/2)*(e.nrad+e.space)*2,r:e.nrad-2,fill:e.setHexColor(t.Data.v)},on:{click:function(a){return e.handleClickAnchor(t.Data)}}})]})],2)])},staticRenderFns:[]};var F=a("VU/8")(B,q,!1,function(e){a("WV/5")},null,null).exports,U=a("Ml+6");let j=v.ref("anchors");var V={name:"threed",data:()=>({tolerance:.1,intervalid1:"",anchorManual:[],camera:null,scene:null,renderer:null,meshes:[]}),mounted(){this.recalc(),this.init(),this.tempAnchorList(),this.setAnalysisGrid(this.tolerance),this.constructMeshes(),this.addMeshesToScene(),this.animate()},beforeDestroy(){clearInterval(this.intervalid1)},methods:{init:function(){let e=document.getElementById("threed");this.scene=new U.Scene,this.scene.background=new U.Color(16777215),this.camera=new U.PerspectiveCamera(40,this.WIDTH()/this.HEIGHT(),1,1e3),this.camera.position={x:4,y:4,z:10};let t=new U.Vector3(0,0,0);this.camera.lookAt(t),this.renderer=new U.WebGLRenderer,this.renderer.setSize(this.WIDTH(),this.HEIGHT()),e.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1)},constructMeshes:function(){this.makeBox(2,2,2),this.makeCube(2.005)},addMeshesToScene:function(){for(var e=0;e<this.meshes.length;e++)this.scene.add(this.meshes[e])},animate:function(){requestAnimationFrame(this.animate),this.meshes[0].rotation.y+=.005,this.meshes[1].rotation.y+=.005,this.renderer.render(this.scene,this.camera)},makeBox:function(e,t,a){let i=new U.BoxGeometry(e,t,a),n=new U.LineBasicMaterial({color:16777215,linewidth:1,linecap:"round",linejoin:"round",blending:U.AdditiveBlending,transparent:!0,opacity:.8}),r=new U.Mesh(i,n);this.meshes.push(r)},makePlane:function(e){let t=new U.PlaneGeometry(e,e),a=new U.MeshBasicMaterial({color:13421772,side:U.DoubleSide}),i=new U.Mesh(t,a);i.rotation.x=Math.PI/2,this.meshes.push(i)},makeCube:function(e){var t=this.cube(e),a=new U.LineSegments(t,new U.LineBasicMaterial({color:0,dashSize:.02,gapSize:.01}));a.computeLineDistances(),this.meshes.push(a)},cube:function(e){var t=.5*e,a=new U.BufferGeometry,i=[];return i.push(-t,-t,-t,-t,t,-t,-t,t,-t,t,t,-t,t,t,-t,t,-t,-t,t,-t,-t,-t,-t,-t,-t,-t,t,-t,t,t,-t,t,t,t,t,t,t,t,t,t,-t,t,t,-t,t,-t,-t,t,-t,-t,-t,-t,-t,t,-t,t,-t,-t,t,t,t,t,-t,t,t,t,t,-t,-t,t,-t,t),a.addAttribute("position",new U.Float32BufferAttribute(i,3)),a},WIDTH:function(){return 2*window.innerWidth},HEIGHT:function(){return 2*(window.innerHeight-62)},onWindowResize:function(){this.camera.aspect=this.WIDTH()/this.HEIGHT(),console.log(this.WIDTH(),this.HEIGHT()),this.camera.updateProjectionMatrix(),this.renderer.setSize(this.WIDTH(),this.HEIGHT())},tempAnchorList:function(){var e=[];return j.once("value",function(t){t.forEach(function(t){var a={Key:t.key,Data:t.val()};e.push(a)})}),e},anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},recalc:function(){this.intervalid1=setInterval(()=>{this.anchorManualUpdate(),this.setAnalysisGrid(this.tol)},100)},setAnalysisGrid:function(e){var t=this.anchorManual;if(t.length>0){for(var a,i,n=t[0].Data.x,r=t[0].Data.y,s=0;s<t.length;s++)t[s].Data.x>n&&(n=t[s].Data.x),t[s].Data.x<a&&(a=t[s].Data.x),t[s].Data.y>r&&(r=t[s].Data.y),t[s].Data.y<i&&(i=t[s].Data.y);console.loh("i got here"),console.log(a,n,i,r)}}}},N={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"threed"}})},staticRenderFns:[]};var K=a("VU/8")(V,N,!1,function(e){a("uaeV")},"data-v-7a44f94c",null).exports,Z=a("qKrd");const X=a.n(Z)()(U);let Y=v.ref("anchors");var Q={name:"rtthreed",firebase:{anchors:Y},data:()=>({employees:[],nrad:13,space:1.6,color:"#aaa",ratio:34,nindex:0,curAnchor:-1,calcCount:0,intervalid1:"",grid:[],anchorManual:[],window:{width:0,height:0},tolerance:.71,rotation:0,extrusionHeight:1,startTime:0,firstRound:0,camera:null,control:null,scene:null,renderer:null,meshes:[]}),computed:{numi(){return(this.window.width-50)/this.ratio},numj(){return(this.window.height-50)/this.ratio}},created(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed(){window.removeEventListener("resize",this.handleResize)},beforeDestroy(){clearInterval(this.intervalid1)},mounted:function(){this.startTime=Date.now(),console.log(X),this.init(),this.constructMeshes(),this.addMeshesToScene(),this.initialRender(),console.log("start"),this.recalc()},methods:{init:function(){let e=document.getElementById("rtthreed");this.scene=new U.Scene,this.scene.background=new U.Color(16777215);var t=new U.AmbientLight(16777215);this.scene.add(t),this.camera=new U.OrthographicCamera(this.WIDTH()/-80,this.WIDTH()/80,this.HEIGHT()/80,this.HEIGHT()/-80,.01,50),this.camera.position.set(16,20,16);let a=new U.Vector3(4,0,4);this.camera.lookAt(a),this.renderer=new U.WebGLRenderer,this.renderer.setSize(this.WIDTH(),this.HEIGHT()),this.renderer.setPixelRatio(window.devicePixelRatio),e.appendChild(this.renderer.domElement),this.controls=new X(this.camera),this.controls.enableZoom=!0,this.controls.enableRotate=!1,this.controls.autoRotate=!1,this.controls.autoRotateSpeed=.5,this.controls.panSpeed=.5,this.controls.rotateSpeed=.7,this.controls.enableDamping=!0,this.controls.dampingFactor=1,this.controls.minPolarAngle=4*-Math.PI/9,this.controls.maxPolarAngle=4*Math.PI/9,this.controls.update(),window.addEventListener("resize",this.onWindowResize,!1)},constructMeshes:function(){this.drawThresholds(this.tolerance),this.setField(this.tolerance)},addMeshesToScene:function(){for(var e=0;e<this.meshes.length;e++)this.scene.add(this.meshes[e])},initialRender:function(){this.renderer.render(this.scene,this.camera)},recalc:function(){this.intervalid1=setInterval(()=>{var e=this.anchorManual;this.anchorManualUpdate();var t=this.anchorManual;(this.arraysEqual(e,t)?console.log("no change"):(console.log("updating"),this.toUpdate()),0==this.firstRound)&&(Date.now()-this.startTime>1e3&&(this.toUpdate(),this.firstRound=1));this.controls.update(),this.renderer.render(this.scene,this.camera)},1e3/30)},toUpdate:function(){var e=this.scene.getObjectByName("toberefreshed");this.scene.remove(e);var t=this.scene.getObjectByName("toberefreshed1");this.scene.remove(t),this.drawThresholds(this.tolerance/12),this.scene.add(this.meshes[this.meshes.length-1]),this.setField(this.tolerance),this.scene.add(this.meshes[this.meshes.length-1])},arraysEqual:function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var a=0;a<e.length;++a){if(e[a].Data.id!==t[a].Data.id)return!1;if(e[a].Data.x!==t[a].Data.x)return!1;if(e[a].Data.y!==t[a].Data.y)return!1;if(e[a].Data.v!==t[a].Data.v)return!1}return!0},WIDTH:function(){return window.innerWidth},HEIGHT:function(){return window.innerHeight-62},onWindowResize:function(){this.camera.aspect=this.WIDTH()/this.HEIGHT(),console.log(this.WIDTH(),this.HEIGHT()),this.camera.updateProjectionMatrix(),this.renderer.setSize(this.WIDTH(),this.HEIGHT())},anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},fit:function(e,t,a,i,n){return e>a&&(e=a),e<t&&(e=t),i+(n-i)*(e-t)/(a-t)},drawThresholds:function(e){var t=this.anchorManual,a=0,i=0,n=0,r=0;if(t.length>0){a=t[0].Data.x,i=t[0].Data.x,n=t[0].Data.y,r=t[0].Data.y;for(var s=0;s<t.length;s++)t[s].Data.x>i&&(i=t[s].Data.x),t[s].Data.x<a&&(a=t[s].Data.x),t[s].Data.y>r&&(r=t[s].Data.y),t[s].Data.y<n&&(n=t[s].Data.y);a-=2,n-=2,i+=2,r+=2}var o=(i-a)/e,h=(r-n)/e,l=new U.BufferGeometry,c=[],d=1;for(s=0;s<o;s++)for(var u=0;u<h;u++){var p=s*e,m=u*e,f=this.evalIntensity(p,m,t),v=this.evalIntensity(p+e,m,t);if((f-.5)*(v-.5)<=0){var g=p+(f<v?this.fit(.5,f,v,0,1):this.fit(.5,v,f,1,0))*e,w=m;c.push(g+a,0,w+n),c.push(g+a,this.extrusionHeight,w+n),d++}var y=this.evalIntensity(p,m+e,t);if((f-.5)*(y-.5)<=0){w=m+(f<y?this.fit(.5,f,y,0,1):this.fit(.5,y,f,1,0))*e,g=p;c.push(g+a,0,w+n),c.push(g+a,this.extrusionHeight,w+n),d++}}var b=new Float32Array(3*d*2);for(s=0;s<3*d*2;s++)b[s]=c[s];l.addAttribute("position",new U.BufferAttribute(b,3));var _=new U.LineSegments(l,new U.LineBasicMaterial({color:0}));_.name="toberefreshed",this.meshes.push(_)},evalIntensity:function(e,t,a){var i,n=0,r=0;for(i=0;i<a.length;i++){var s=a[i].Data,o=Math.pow(s.x-e,2),h=Math.pow(s.y-t,2),l=Math.pow(o+h,.5);if(0==l){n=1e-6,r=s.v;break}var c=Math.pow(l,-3);r+=s.v*c,n+=(1-s.v)*c}var d=r/(r+n);return this.fit(d,0,1,0,1)},setField:function(e){var t=this.anchorManual,a=0,i=0,n=0,r=0;if(t.length>0){a=t[0].Data.x,i=t[0].Data.x,n=t[0].Data.y,r=t[0].Data.y;for(var s=0;s<t.length;s++)t[s].Data.x>i&&(i=t[s].Data.x),t[s].Data.x<a&&(a=t[s].Data.x),t[s].Data.y>r&&(r=t[s].Data.y),t[s].Data.y<n&&(n=t[s].Data.y);a-=2,n-=2,i+=2,r+=2}var o=Math.ceil((i-a)/e),h=Math.ceil((r-n)/e),l=new U.BufferGeometry,c=(new U.Color(1,0,0),o*h),d=new Float32Array(3*c),u=new Float32Array(3*c),p=[],m=0;for(s=0;s<o;s++)for(var f=0;f<h;f++){var v,g=s*e,w=f*e,y=0,b=0;for(v=0;v<t.length;v++){var _=t[v].Data,D=Math.pow(_.x-g,2),x=Math.pow(_.y-w,2),C=Math.pow(D+x,.5);if(0==C){y=1e-6,b=_.v;break}var I=Math.pow(C,-3);b+=_.v*I,y+=(1-_.v)*I}var A=b/(b+y),k=this.fit(A,0,1,0,1);d[3*m]=g+a,d[3*m+1]=0,d[3*m+2]=w+n;u[3*m]=k,u[3*m+1]=0,u[3*m+2]=1-k,m++}for(s=0;s<o-1;s++)for(f=0;f<h-1;f++){_=s*h+(f+1);var M=s*h+f,E=(s+1)*h+f,H=(s+1)*h+(f+1);p.push(_,M,H),p.push(M,E,H),console.log(o,h)}console.log(m),l.setIndex(p),l.addAttribute("position",new U.BufferAttribute(d,3)),l.addAttribute("color",new U.BufferAttribute(u,3));new U.PointsMaterial({size:.06,vertexColors:U.VertexColors}),new U.MeshBasicMaterial({color:16711680});var T=new U.MeshPhongMaterial({specular:1118481,shininess:250,side:U.DoubleSide,vertexColors:U.VertexColors}),R=new U.Mesh(l,T);R.name="toberefreshed1",R.material.transparent=!0,R.material.opacity=.6,this.meshes.push(R)},tempAnchorList:function(){var e=[];return Y.once("value",function(t){t.forEach(function(t){var a={Key:t.key,Data:t.val()};e.push(a)})}),e},handleResize(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},viewBox:function(){return String(-this.WIDTH()/2)+" "+String(-this.HEIGHT()/2)+" "+String(this.WIDTH())+" "+String(this.HEIGHT())}}},J={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"rtthreed"}})},staticRenderFns:[]};var ee=a("VU/8")(Q,J,!1,function(e){a("XsXk")},"data-v-66762bc6",null).exports;let te=v.ref("anchors");var ae={name:"field",firebase:{anchors:te},data:()=>({employees:[],nrad:13,space:1.6,color:"#aaa",ratio:34,nindex:0,curAnchor:-1,calcCount:0,intervalid1:"",grid:[],anchorManual:[],window:{width:0,height:0},tolerance:.15,rotation:0,camera:null,scene:null,renderer:null,meshes:[]}),computed:{numi(){return(this.window.width-50)/this.ratio},numj(){return(this.window.height-50)/this.ratio}},created(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.anchorManualUpdate()},destroyed(){window.removeEventListener("resize",this.handleResize)},beforeDestroy(){clearInterval(this.intervalid1)},mounted:function(){this.init(),this.constructMeshes(),this.addMeshesToScene(),this.recalc()},methods:{init:function(){let e=document.getElementById("field");this.scene=new U.Scene,this.scene.background=new U.Color(16777215),this.camera=new U.PerspectiveCamera(40,this.WIDTH()/this.HEIGHT(),1,1e3),this.camera.position={x:20,y:20,z:20};let t=new U.Vector3(0,0,0);this.camera.lookAt(t),this.renderer=new U.WebGLRenderer,this.renderer.setSize(this.WIDTH(),this.HEIGHT()),this.renderer.setPixelRatio(window.devicePixelRatio),e.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1)},constructMeshes:function(){this.setField(this.tolerance)},addMeshesToScene:function(){for(var e=0;e<this.meshes.length;e++)this.scene.add(this.meshes[e])},animate:function(){setTimeout(function(){console.log("imwaiting")},5e3),requestAnimationFrame(this.animate),this.meshes[0].rotation.y+=.005,this.meshes[1].rotation.y+=.005,this.renderer.render(this.scene,this.camera)},recalc:function(){this.intervalid1=setInterval(()=>{this.anchorManualUpdate();var e=this.scene.getObjectByName("toberefreshed");this.scene.remove(e),this.setField(this.tolerance),this.scene.add(this.meshes[this.meshes.length-1]),this.renderer.render(this.scene,this.camera)},100)},makeBox:function(e,t,a){let i=new U.BoxGeometry(e,t,a),n=new U.LineBasicMaterial({color:16777215,linewidth:1,linecap:"round",linejoin:"round",blending:U.AdditiveBlending,transparent:!0,opacity:.8}),r=new U.Mesh(i,n);this.meshes.push(r)},makePlane:function(e){let t=new U.PlaneGeometry(e,e),a=new U.MeshBasicMaterial({color:13421772,side:U.DoubleSide}),i=new U.Mesh(t,a);i.rotation.x=Math.PI/2,this.meshes.push(i)},makeCube:function(e){var t=this.cube(e),a=new U.LineSegments(t,new U.LineBasicMaterial({color:0,dashSize:.02,gapSize:.01}));a.computeLineDistances(),this.meshes.push(a)},cube:function(e){var t=.5*e,a=new U.BufferGeometry,i=[];return i.push(-t,-t,-t,-t,t,-t,-t,t,-t,t,t,-t,t,t,-t,t,-t,-t,t,-t,-t,-t,-t,-t,-t,-t,t,-t,t,t,-t,t,t,t,t,t,t,t,t,t,-t,t,t,-t,t,-t,-t,t,-t,-t,-t,-t,-t,t,-t,t,-t,-t,t,t,t,t,-t,t,t,t,t,-t,-t,t,-t,t),a.addAttribute("position",new U.Float32BufferAttribute(i,3)),a},WIDTH:function(){return window.innerWidth},HEIGHT:function(){return window.innerHeight-62},onWindowResize:function(){this.camera.aspect=this.WIDTH()/this.HEIGHT(),console.log(this.WIDTH(),this.HEIGHT()),this.camera.updateProjectionMatrix(),this.renderer.setSize(this.WIDTH(),this.HEIGHT())},anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},fit:function(e,t,a,i,n){return e>a&&(e=a),e<t&&(e=t),i+(n-i)*(e-t)/(a-t)},setField:function(e){var t=this.anchorManual,a=0,i=0,n=0,r=0;if(t.length>0){a=t[0].Data.x,i=t[0].Data.x,n=t[0].Data.y,r=t[0].Data.y;for(var s=0;s<t.length;s++)t[s].Data.x>i&&(i=t[s].Data.x),t[s].Data.x<a&&(a=t[s].Data.x),t[s].Data.y>r&&(r=t[s].Data.y),t[s].Data.y<n&&(n=t[s].Data.y);a-=2,n-=2,i+=2,r+=2}var o=(i-a)/e,h=(r-n)/e,l=new U.BufferGeometry,c=(new U.Color(1,0,0),o*h),d=new Float32Array(3*c),u=new Float32Array(3*c),p=0;for(s=0;s<o;s++)for(var m=0;m<h;m++){var f,v=s*e,g=m*e,w=0,y=0;for(f=0;f<t.length;f++){var b=t[f].Data,_=Math.pow(b.x-v,2),D=Math.pow(b.y-g,2),x=Math.pow(_+D,.5);if(0==x){w=1e-6,y=b.v;break}var C=Math.pow(x,-3);y+=b.v*C,w+=(1-b.v)*C}var I=y/(y+w),A=this.fit(I,0,1,0,1);d[3*p]=v-.5*o*e,d[3*p+1]=A,d[3*p+2]=g-.5*h*e;u[3*p]=A,u[3*p+1]=0,u[3*p+2]=1-A,p++}l.addAttribute("position",new U.BufferAttribute(d,3)),l.addAttribute("color",new U.BufferAttribute(u,3));var k=new U.PointsMaterial({size:.1,vertexColors:U.VertexColors}),M=new U.Points(l,k);M.name="toberefreshed",this.meshes.push(M),console.log("grid updated")},tempAnchorList:function(){var e=[];return te.once("value",function(t){t.forEach(function(t){var a={Key:t.key,Data:t.val()};e.push(a)})}),e},handleResize(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},viewBox:function(){let e=String(-this.WIDTH()/2)+" "+String(-this.HEIGHT()/2)+" "+String(this.WIDTH())+" "+String(this.HEIGHT());return console.log(e),e}}},ie={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"field"}})},staticRenderFns:[]};var ne=a("VU/8")(ae,ie,!1,function(e){a("AMBn")},"data-v-03e130ec",null).exports;i.a.use(p.a);let re=new p.a({routes:[{path:"/",name:"dashboard",component:_,meta:{requiresAuth:!0}},{path:"/threed",name:"threed",component:K,meta:{requiresAuth:!0}},{path:"/field",name:"field",component:ne,meta:{requiresAuth:!0}},{path:"/rtthreed",name:"rtthreed",component:ee,meta:{requiresAuth:!0}},{path:"/play",name:"playboard",component:$,meta:{requiresAuth:!0}},{path:"/rtplay",name:"rtplayboard",component:F,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:S,meta:{requiresGuest:!0}},{path:"/register",name:"register",component:L,meta:{requiresGuest:!0}},{path:"/new",name:"new-employee",component:C,meta:{requiresAuth:!0}},{path:"/edit/:employee_id",name:"edit-employee",component:k,meta:{requiresAuth:!0}},{path:"/:employee_id",name:"view-employee",component:H,meta:{requiresAuth:!0}}]});re.beforeEach((e,t,a)=>{e.matched.some(e=>e.meta.requiresAuth)?r.a.auth().currentUser?a():a({path:"/login",querry:{redirect:e.fullPath}}):e.matched.some(e=>e.meta.requiresGuest)&&r.a.auth().currentUser?(a(),a({path:"/",querry:{redirect:e.fullPath}})):a()});var se=re;i.a.config.productionTip=!1;var oe=a("KpPp");let he;i.a.use(oe),r.a.auth().onAuthStateChanged(e=>{he||(he=new i.a({el:"#app",router:se,components:{App:u},template:"<App/>"}))})},VnPm:function(e,t){},"WV/5":function(e,t){},XsXk:function(e,t){},dEcQ:function(e,t){e.exports={attributes:{},html:'<h1>Generating DOI</h1>\n<hr>\n<p>There are only eight agencies who issue DOI’s and any other agency has an agreement in place with one of these eight. Therefore, the DOI system is very much centralized.\n<a href="https://www.doi.org/registration_agencies.html">DOI Registration Agencies</a></p>\n<blockquote>\n<p>DOIs for most scholarly publications are issued through CrossRef. CrossRef do not assign DOIs directly, but delegate this to members or their agents. Members, who are usually publishers, pay a fee to the central consortium, and agree to issue DOIs based on a <a href="http://www.crossref.org/02publishers/59pub_rules.html">fixed set of rules</a> .\nAs you can see from these rules, the general sense of membership is “organisations issuing DOIs for stuff they control”. While there isn’t an explicit prohibition against assigning DOIs to third-party material (which surprised me!), point 4 comes pretty close:\n<em>Members have an obligation to maintain the metadata and URLs associated with all registered DOIs.</em></p>\n</blockquote>\n<p>However there are some websites that they generate DOIs for the materials that we upload <em>only on their website</em>:</p>\n<blockquote>\n<p><a href="https://zenodo.org/">Zenodo - Research. Shared.</a> : <em>This one will accept a github page as well</em></p>\n</blockquote>\n<blockquote>\n<p><a href="https://figshare.com/">figshare - credit for all your research</a></p>\n</blockquote>\n<blockquote>\n<p><a href="https://dataverse.org/">The Dataverse Project - Dataverse.org</a></p>\n</blockquote>\n<p>There are only eight agencies who issue DOI’s and any other agency has an agreement in place with one of these eight. Therefore, the DOI system is very much centralized.\n<a href="https://www.doi.org/registration_agencies.html">DOI Registration Agencies</a></p>\n<blockquote>\n<p>DOIs for most scholarly publications are issued through CrossRef. CrossRef do not assign DOIs directly, but delegate this to members or their agents. Members, who are usually publishers, pay a fee to the central consortium, and agree to issue DOIs based on a <a href="http://www.crossref.org/02publishers/59pub_rules.html">fixed set of rules</a> .\nAs you can see from these rules, the general sense of membership is “organisations issuing DOIs for stuff they control”. While there isn’t an explicit prohibition against assigning DOIs to third-party material (which surprised me!), point 4 comes pretty close:\n<em>Members have an obligation to maintain the metadata and URLs associated with all registered DOIs.</em></p>\n</blockquote>\n<p>However there are some websites that they generate DOIs for the materials that we upload <em>only on their website</em>:\n<a href="https://zenodo.org/">Zenodo - Research. Shared.</a> : <em>This one will accept a github page as well</em>\n<a href="https://figshare.com/">figshare - credit for all your research</a>\n<a href="https://dataverse.org/">The Dataverse Project - Dataverse.org</a></p>\n<p>There are only eight agencies who issue DOI’s and any other agency has an agreement in place with one of these eight. Therefore, the DOI system is very much centralized.\n<a href="https://www.doi.org/registration_agencies.html">DOI Registration Agencies</a></p>\n<blockquote>\n<p>DOIs for most scholarly publications are issued through CrossRef. CrossRef do not assign DOIs directly, but delegate this to members or their agents. Members, who are usually publishers, pay a fee to the central consortium, and agree to issue DOIs based on a <a href="http://www.crossref.org/02publishers/59pub_rules.html">fixed set of rules</a> .\nAs you can see from these rules, the general sense of membership is “organisations issuing DOIs for stuff they control”. While there isn’t an explicit prohibition against assigning DOIs to third-party material (which surprised me!), point 4 comes pretty close:\n<em>Members have an obligation to maintain the metadata and URLs associated with all registered DOIs.</em></p>\n</blockquote>\n<p>However there are some websites that they generate DOIs for the materials that we upload <em>only on their website</em>:\n<a href="https://zenodo.org/">Zenodo - Research. Shared.</a> : <em>This one will accept a github page as well</em>\n<a href="https://figshare.com/">figshare - credit for all your research</a>\n<a href="https://dataverse.org/">The Dataverse Project - Dataverse.org</a></p>\n<p>There are only eight agencies who issue DOI’s and any other agency has an agreement in place with one of these eight. Therefore, the DOI system is very much centralized.\n<a href="https://www.doi.org/registration_agencies.html">DOI Registration Agencies</a></p>\n<blockquote>\n<p>DOIs for most scholarly publications are issued through CrossRef. CrossRef do not assign DOIs directly, but delegate this to members or their agents. Members, who are usually publishers, pay a fee to the central consortium, and agree to issue DOIs based on a <a href="http://www.crossref.org/02publishers/59pub_rules.html">fixed set of rules</a> .\nAs you can see from these rules, the general sense of membership is “organisations issuing DOIs for stuff they control”. While there isn’t an explicit prohibition against assigning DOIs to third-party material (which surprised me!), point 4 comes pretty close:\n<em>Members have an obligation to maintain the metadata and URLs associated with all registered DOIs.</em></p>\n</blockquote>\n<p>However there are some websites that they generate DOIs for the materials that we upload <em>only on their website</em>:\n<a href="https://zenodo.org/">Zenodo - Research. Shared.</a> : <em>This one will accept a github page as well</em>\n<a href="https://figshare.com/">figshare - credit for all your research</a>\n<a href="https://dataverse.org/">The Dataverse Project - Dataverse.org</a></p>\n<p>There are only eight agencies who issue DOI’s and any other agency has an agreement in place with one of these eight. Therefore, the DOI system is very much centralized.\n<a href="https://www.doi.org/registration_agencies.html">DOI Registration Agencies</a></p>\n<blockquote>\n<p>DOIs for most scholarly publications are issued through CrossRef. CrossRef do not assign DOIs directly, but delegate this to members or their agents. Members, who are usually publishers, pay a fee to the central consortium, and agree to issue DOIs based on a <a href="http://www.crossref.org/02publishers/59pub_rules.html">fixed set of rules</a> .\nAs you can see from these rules, the general sense of membership is “organisations issuing DOIs for stuff they control”. While there isn’t an explicit prohibition against assigning DOIs to third-party material (which surprised me!), point 4 comes pretty close:\n<em>Members have an obligation to maintain the metadata and URLs associated with all registered DOIs.</em></p>\n</blockquote>\n<p>However there are some websites that they generate DOIs for the materials that we upload <em>only on their website</em>:\n<a href="https://zenodo.org/">Zenodo - Research. Shared.</a> : <em>This one will accept a github page as well</em>\n<a href="https://figshare.com/">figshare - credit for all your research</a>\n<a href="https://dataverse.org/">The Dataverse Project - Dataverse.org</a></p>\n'}},uaeV:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.9ab82ad632eb03751247.js.map